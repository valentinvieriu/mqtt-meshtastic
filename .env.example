# ── Server ──────────────────────────────────────────────
PORT=3000
WS_PORT=8080

# ── MQTT Broker ─────────────────────────────────────────
MQTT_HOST=mqtt.meshtastic.org
MQTT_PORT=1883
MQTT_USERNAME=meshdev
MQTT_PASSWORD=large4cats

# ── Meshtastic Topic Components ─────────────────────────
# Topic format: {MQTT_ROOT}/{MQTT_REGION}/{MQTT_PATH}/{channel}/{gatewayId}
# Example:      msh/EU_868/2/e/LongFast/!d844b556
MQTT_ROOT=msh
MQTT_REGION=EU_868
MQTT_PATH=2/e

# ── Default Channel & Encryption ────────────────────────
DEFAULT_CHANNEL=LongFast

# Meshtastic PSK — supports 1-byte shorthand and full-length keys.
#
# Shorthand (1 byte) — expands to the hard-coded 16-byte default key
# with the last byte replaced by the shorthand value:
#   AQ==  (0x01) → default key ending ...01  (the "Default" channel)
#   Ag==  (0x02) → default key ending ...02  ("Simple 1")
#   Aw==  (0x03) → default key ending ...03  ("Simple 2")
#   BA==  (0x04) → default key ending ...04  ("Simple 3")
#
# Full keys — used as-is:
#   1PG7OiApB1nwvP+rz05pAQ==   → 16 bytes, same as AQ== expanded (AES-128)
#   <any 16-byte base64>        → AES-128-CTR
#   <any 32-byte base64>        → AES-256-CTR
#
# The default key bytes (hex): d4 f1 bb 3a 20 29 07 59 f0 bc ff ab cf 4e 69 01
# These keys are PUBLIC (hard-coded in firmware) — use a random key for privacy.
DEFAULT_KEY=AQ==

# ── Gateway Identity ────────────────────────────────────
# Node ID of your gateway, used as sender for outbound packets.
# Format: !hex (e.g. !d844b556) or decimal.
GATEWAY_ID=!d844b556

# ── Per-Channel Keys (optional) ─────────────────────────
# Map of channel name → PSK for server-side multi-key decryption.
# The server tries each configured key when decrypting incoming packets.
# DEFAULT_CHANNEL + DEFAULT_KEY are always included automatically.
#
# JSON format (preferred):
#   CHANNEL_KEYS={"LongFast":"AQ==","MyPrivate":"base64key..."}
#
# Comma-separated fallback:
#   CHANNEL_KEYS=LongFast:AQ==,MyPrivate:base64key...
#
CHANNEL_KEYS={"LongFast":"AQ=="}

# ── Catalog Seed (optional) ─────────────────────────────
# Define multiple entities directly in the env file using JSON arrays.
# These are merged with entities generated from the legacy vars above.
# If an entity has the same "id" as one generated from legacy vars,
# the CATALOG_* version wins (last-write-wins dedup).
#
# All fields match the frontend CatalogV1 schema. The frontend will
# merge these seeds into localStorage on first load (or when new IDs
# appear that aren't in the user's deleted-seeds list).

# ── Networks ────────────────────────────────────────────
# Define additional MQTT networks (brokers / regions).
# The server always generates one network from MQTT_HOST + MQTT_REGION.
# Fields: id, name, mqttHost, mqttPort, mqttRoot, regions (array),
#         defaultRegion, paths (array), defaultPath
#CATALOG_NETWORKS_JSON=[{"id":"net_us915","name":"US_915 Public","mqttHost":"mqtt.meshtastic.org","mqttPort":1883,"mqttRoot":"msh","regions":["US_915"],"defaultRegion":"US_915","paths":["2/e","2/json"],"defaultPath":"2/e"}]

# ── Keys ────────────────────────────────────────────────
# Define additional encryption keys. Built-in keys (key_none, key_default)
# are always present in the frontend.
# Fields: id, name, type (none|shorthand|base64_16|base64_32), value (base64)
#CATALOG_KEYS_JSON=[{"id":"key_private","name":"Private Key","type":"base64_16","value":"your16ByteBase64Key="}]

# ── Channels ────────────────────────────────────────────
# Define additional channels beyond the 8 standard ones.
# Fields: id, name, keyId (reference a key id, or null for no encryption), enabled
#CATALOG_CHANNELS_JSON=[{"id":"ch_secretops","name":"SecretOps","keyId":"key_private","enabled":true}]

# ── Nodes ───────────────────────────────────────────────
# Define known nodes (devices). Broadcast (^all) is always built-in.
# The server also creates a gateway node from GATEWAY_ID automatically.
# Set isGateway: true for nodes that act as MQTT gateways (shown in
# the Gateway dropdown in the Send view).
# Fields: id, nodeId (!hex format), label, notes, isGateway
#CATALOG_NODES_JSON=[{"id":"node_tbeam","nodeId":"!aabbccdd","label":"My TBeam","notes":"Field node","isGateway":true}]

# ── Gateways (deprecated) ──────────────────────────────
# Gateways have been merged into Nodes with isGateway: true.
# This var is still accepted for backward compatibility — entries are
# converted to gateway nodes at startup.
#CATALOG_GATEWAYS_JSON=[{"id":"gw_tbeam","gatewayId":"!aabbccdd","label":"Field Gateway"}]

# ── Defaults ────────────────────────────────────────────
# Override which entities are pre-selected in Watch/Send on first load.
# Fields: networkId, watchChannelId, sendChannelId, sendGatewayNodeId,
#         sendFromNodeId, sendToNodeId
#CATALOG_DEFAULTS_JSON={"networkId":"net_eu_868_public","watchChannelId":"ch_longfast","sendChannelId":"ch_longfast","sendGatewayNodeId":"node_tbeam","sendFromNodeId":"node_tbeam","sendToNodeId":"node_broadcast"}
